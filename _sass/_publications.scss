.publist {
	list-style: none;
	padding-left: var(--pad-l);
	padding-right: var(--pad-l);
	text-align: justify;
	text-justify: inter-word;
}
.publist .pub::before {
	content: attr(data-num) ". ";
	margin-right: 0.5rem;
}
.publist .pub {
	align-items: start;
	column-gap: 0.75rem;
	display: grid;
	grid-template-columns: 4ch 1fr;
	margin-bottom: 0.75rem;
	row-gap: 0.25rem;
}
.publist .pub::before {
	content: attr(data-num) ".";
	grid-column: 1;
	grid-row: 1;
	justify-self: end;
}
.publist.high-only .pub::before {
	content: "â€“";
	justify-self: center;
}
.publist .pub .pub-main,
.publist .pub .pub-tags,
.publist .pub .pub-notes {
	grid-column: 2;
}
/* ---- Single publication item ---- */
.pub {
	margin: 0 0 0.75rem 0;
}
.pub.dim {
	opacity: 0.25;
	transition: opacity 160ms ease;
}
.pub.is-hidden {
	display: none;
}
/* ---- Main line ---- */
.pub-main {
	-ms-hyphens: auto;
	-moz-hyphens: auto;
	-webkit-hyphens: auto;
	hyphens: auto;
	line-height: 1.45;
}
.pub-authors .me {
	text-decoration: underline;
	text-underline-offset: 2px;
}
.pub-title {
	font-style: normal;
}
/* ---- Identifiers ---- */
.pub-doi, .pub-pmid, .pub-pmcid {
	-ms-hyphens: auto;
	-moz-hyphens: auto;
	-webkit-hyphens: auto;
	hyphens: auto;
	hyphenate-limit-chars: 6 3 2;
	margin-right: 0.5ch;
	overflow-wrap: anywhere;
	word-break: break-word;
}
/* ---- Keyword badges ---- */
.pub-tags {
	margin: var(--pad-s) 0;
}
.tag {
	border: 1px solid var(--fg-muted);
	border-radius: #{$round-m};
	cursor: pointer;
	display: inline-block;
	font-size: 0.8rem;
	margin-right: 0.35rem;
	margin-top: 0.25rem;
	opacity: 0.75;
	padding: 0.15em 0.50em;
	&:focus-visible {
		outline: 2px solid #888;
		outline-offset: 2px;
	}
}
.tag.is-active {
	outline: 2px solid var(--fg-muted);
	outline-offset: 2px;
}
/* ---- Toggle switch ---- */
.priority-toggle {
	margin: 0 0 0.75rem 0;
}
.switch {
	align-items: center;
	cursor: pointer;
	display: inline-flex;
	gap: .5rem;
	user-select: none;
}
// Hide native checkbox but keep it accessible
.switch input {
	height: 0;
	opacity: 0;
	position: absolute;
	width: 0;
}
// Track + thumb
.switch-ui {
	--w: 2.5rem; --h: 1.5rem; --pad: 2px; --thumb: calc(var(--h) - 2 * var(--pad));
	background: #cbd5e1;
	border-radius: var(--h);
	display: inline-block;
	height: var(--h);
	position: relative;
	transition: background .18s ease;
	width: var(--w);
}
.switch-ui::after {
	background: #ffffff;
	border-radius: 50%;
	box-shadow: 0 1px 2px rgba(0, 0, 0, .2);
	content: "";
	height: var(--thumb);
	left: var(--pad);
	position: absolute;
	top: var(--pad);
	transition: transform .18s ease;
	width: var(--thumb);
}
.switch input:checked + .switch-ui {
	background: var(--fg-muted);
}
.switch input:checked + .switch-ui::after {
	transform: translateX(calc(var(--w) - var(--h)));
}
.switch-text {
	color: var(--fg-color);
	font-size: 0.9rem;
}
.switch-text .on {
	display: none;
}
.switch input:checked ~ .switch-text .off {
	display: none;
}
.switch input:checked ~ .switch-text .on	{
	display: inline;
}
.priority-toggle input[type="checkbox"]:focus-visible + .switch-ui {
  box-shadow: 0 0 0 3px var(--bg-color), 0 0 0 5px var(--link);
}
/* ---- Notes ---- */
.pub-notes {
	color: var(--fg-muted);
	font-size: 0.9em;
	margin: var(--pad-s) 0;
	opacity: 0.9;
}
/* ---- Footnote ---- */
.pub-footnote {
	color: var(--fg-color);
	margin-top: var(--pad-l);
	font-size: 0.9em;
}
/* ---- Section headers ---- */
.pub-section {
	margin-top: var(--pad-l);
}
/* ---- Dark mode ---- */
@media (prefers-color-scheme: dark) {
	.tag {
		opacity: 0.85;
	}
}
/* ---- Reduce motion ---- */
@media (prefers-reduced-motion: reduce) {
	* {
		transition: none !important;
	}
}